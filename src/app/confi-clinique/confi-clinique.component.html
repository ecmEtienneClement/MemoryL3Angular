<div class="container">
  <h1>CONFIG</h1>
  <ng-container *ngIf="stateApp$ | async as stateApp">
    <app-loading-cmp
      [dataState]="stateApp"
      [notification]="notification"
      [errorMessage]="errorMessage"
    ></app-loading-cmp>
  </ng-container>
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
    <a
      class="nav-link active"
      aria-current="page"
      routerLink="{{ routesName.mConfig.configAdd }}"
      routerLinkActive="router-link-active"
      >Config add</a
    >
  </button>

  <!--                             INFO CLINIQUE                            -->

  <div class="jumbotron" *ngIf="infoClini$ | async as infos">
    <div class="container" *ngFor="let info of infos">
      <h4>Information du clinique</h4>
      <div class="row">
        <div class="col-12">
          <p *ngFor="let pro of info.proprietaire">Proprietaire :{{ pro }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-lg-6">
          <p>Nom clinique : {{ info.nom }}</p>
          <p>Adresse clinique : {{ info.adresse }}</p>
        </div>
        <div class="col-12 col-lg-6">
          <p *ngFor="let email of info.email">Email clinique : {{ email }}</p>
          <p *ngFor="let telephone of info.telephone">
            Téléphone clinique :{{ telephone }}
          </p>
        </div>
      </div>
    </div>
  </div>

  <!--                             TYPE DE PROFIL                            -->
  <mat-accordion>
    <mat-expansion-panel
      class="mt-2"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title> Type de profil </mat-panel-title>
        <mat-panel-description>
          Les types de profil disponibles
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p *ngFor="let profile of postes$ | async">
        <button
          (click)="deleteProfil(profile)"
          type="button"
          class="btn btn-sm btn-outline-danger"
        >
          del
        </button>
        {{ profile.poste }}
      </p>
    </mat-expansion-panel>
  </mat-accordion>
  <!--                             SALLES                            -->
  <mat-accordion>
    <mat-expansion-panel
      class="mt-2"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title>Salles </mat-panel-title>
        <mat-panel-description> Salles disponibles </mat-panel-description>
      </mat-expansion-panel-header>
      <p *ngFor="let salle of salles$ | async">
        <button
          (click)="deleteSalle(salle)"
          type="button"
          class="btn btn-sm btn-outline-danger"
        >
          del
        </button>
        <span>Numéro salle : {{ salle.numero }}</span>
        <span>Place salle : {{ salle.place }}</span>
      </p>
    </mat-expansion-panel>
  </mat-accordion>
  <!--                             TYPE DE SALLES                            -->
  <mat-accordion>
    <mat-expansion-panel
      class="mt-2"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title> Type de salles </mat-panel-title>
        <mat-panel-description>
          Les types de salle disponibles
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p *ngFor="let typeSalle of typeSalles$ | async">
        <button
          (click)="deleteTypeSalle(typeSalle)"
          type="button"
          class="btn btn-sm btn-outline-danger"
        >
          del
        </button>
        {{ typeSalle.type }}
      </p>
    </mat-expansion-panel>
  </mat-accordion>
  <!--                             TYPE DE RV                            -->
  <mat-accordion>
    <mat-expansion-panel
      class="mt-2"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title> Type de rendez-vous </mat-panel-title>
        <mat-panel-description>
          Les types de rendez-vous disponibles
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p *ngFor="let typerv of typeRV$ | async">
        <button
          (click)="deleteTypeRV(typerv)"
          type="button"
          class="btn btn-sm btn-outline-danger"
        >
          del
        </button>
        {{ typerv.type }}
      </p>
    </mat-expansion-panel>
  </mat-accordion>
</div>
